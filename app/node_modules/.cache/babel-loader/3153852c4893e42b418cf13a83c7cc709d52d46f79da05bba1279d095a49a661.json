{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import ReactMarkdown from'react-markdown';import'./index.css';// Import the CSS file\nimport'./light.css';import'./dark.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ProblemDetail(){const{problem_id}=useParams();const[problem,setProblem]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{const fetchProblem=async()=>{const token=localStorage.getItem('token');if(!token){setError('No token found. Please log in.');setLoading(false);return;}try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/api/problems/\").concat(problem_id),{headers:{'Authorization':\"Bearer \".concat(token)}});const data=await response.json();if(response.ok){setProblem(data);}else{if(response.status===404){setError(\"The problem is not there.\");}else{setError(data.error||'Failed to fetch problem details');}}}catch(err){setError('Network error or server is unreachable');console.error('Fetch problem error:',err);}finally{setLoading(false);}};fetchProblem();},[problem_id]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"problem-detail-loading\",children:\"Loading problem details...\"});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"problem-detail-error\",children:[\"Error: \",error]});}if(!problem){return/*#__PURE__*/_jsx(\"div\",{className:\"problem-detail-not-found\",children:\"Problem not found.\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"problem-detail-container\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"problem-detail-title\",children:[problem.meta.title,\" (\",problem_id,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"problem-detail-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Difficulty:\"}),\" \",problem.meta.difficulty]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tags:\"}),\" \",problem.meta.tags.join(', ')]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Authors:\"}),\" \",problem.meta.authors.join(', ')]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"problem-detail-separator\"}),/*#__PURE__*/_jsx(\"div\",{className:\"problem-detail-statement\",children:/*#__PURE__*/_jsx(ReactMarkdown,{children:problem.problem_statement})}),/*#__PURE__*/_jsxs(\"div\",{className:\"problem-detail-actions\",children:[/*#__PURE__*/_jsx(Link,{to:\"/problems/\".concat(problem_id,\"/submit\"),className:\"problem-detail-link-button problem-detail-submit-button\",children:\"Submit Code\"}),/*#__PURE__*/_jsx(Link,{to:\"/problems/\".concat(problem_id,\"/submissions\"),className:\"problem-detail-link-button problem-detail-view-submissions-button\",children:\"View All Submissions\"})]})]});}export default ProblemDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","ReactMarkdown","jsx","_jsx","jsxs","_jsxs","ProblemDetail","problem_id","problem","setProblem","loading","setLoading","error","setError","fetchProblem","token","localStorage","getItem","response","fetch","concat","process","env","REACT_APP_API_BASE_URL","headers","data","json","ok","status","err","console","className","children","meta","title","difficulty","tags","join","authors","problem_statement","to"],"sources":["E:/NEW/frontend-for-annaforces/app/src/components/ProblemDetail/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport ReactMarkdown from 'react-markdown';\nimport './index.css'; // Import the CSS file\nimport './light.css';\nimport './dark.css';\n\nfunction ProblemDetail() {\n  const { problem_id } = useParams();\n  const [problem, setProblem] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const fetchProblem = async () => {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('No token found. Please log in.');\n        setLoading(false);\n        return;\n      }\n\n      try {\n        const response = await fetch(`${process.env.REACT_APP_API_BASE_URL}/api/problems/${problem_id}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n\n        const data = await response.json();\n\n        if (response.ok) {\n          setProblem(data);\n        } else {\n          if (response.status === 404) {\n            setError(\"The problem is not there.\");\n          } else {\n            setError(data.error || 'Failed to fetch problem details');\n          }\n        }\n      } catch (err) {\n        setError('Network error or server is unreachable');\n        console.error('Fetch problem error:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProblem();\n  }, [problem_id]);\n\n  if (loading) {\n    return <div className=\"problem-detail-loading\">Loading problem details...</div>;\n  }\n\n  if (error) {\n    return <div className=\"problem-detail-error\">Error: {error}</div>;\n  }\n\n  if (!problem) {\n    return <div className=\"problem-detail-not-found\">Problem not found.</div>;\n  }\n\n  return (\n    <div className=\"problem-detail-container\">\n      <h2 className=\"problem-detail-title\">{problem.meta.title} ({problem_id})</h2>\n      <div className=\"problem-detail-info\">\n        <p><strong>Difficulty:</strong> {problem.meta.difficulty}</p>\n        <p><strong>Tags:</strong> {problem.meta.tags.join(', ')}</p>\n        <p><strong>Authors:</strong> {problem.meta.authors.join(', ')}</p>\n      </div>\n      <hr className=\"problem-detail-separator\" />\n      <div className=\"problem-detail-statement\">\n        <ReactMarkdown>{problem.problem_statement}</ReactMarkdown>\n      </div>\n      <div className=\"problem-detail-actions\">\n        <Link to={`/problems/${problem_id}/submit`} className=\"problem-detail-link-button problem-detail-submit-button\">\n          Submit Code\n        </Link>\n        <Link to={`/problems/${problem_id}/submissions`} className=\"problem-detail-link-button problem-detail-view-submissions-button\">\n          View All Submissions\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default ProblemDetail;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,IAAI,KAAQ,kBAAkB,CAClD,MAAO,CAAAC,aAAa,KAAM,gBAAgB,CAC1C,MAAO,aAAa,CAAE;AACtB,MAAO,aAAa,CACpB,MAAO,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpB,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACvB,KAAM,CAAEC,UAAW,CAAC,CAAGR,SAAS,CAAC,CAAC,CAClC,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACe,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,CACVF,QAAQ,CAAC,gCAAgC,CAAC,CAC1CF,UAAU,CAAC,KAAK,CAAC,CACjB,OACF,CAEA,GAAI,CACF,KAAM,CAAAO,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,sBAAsB,mBAAAH,MAAA,CAAiBb,UAAU,EAAI,CAC/FiB,OAAO,CAAE,CACP,eAAe,WAAAJ,MAAA,CAAYL,KAAK,CAClC,CACF,CAAC,CAAC,CAEF,KAAM,CAAAU,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAElC,GAAIR,QAAQ,CAACS,EAAE,CAAE,CACflB,UAAU,CAACgB,IAAI,CAAC,CAClB,CAAC,IAAM,CACL,GAAIP,QAAQ,CAACU,MAAM,GAAK,GAAG,CAAE,CAC3Bf,QAAQ,CAAC,2BAA2B,CAAC,CACvC,CAAC,IAAM,CACLA,QAAQ,CAACY,IAAI,CAACb,KAAK,EAAI,iCAAiC,CAAC,CAC3D,CACF,CACF,CAAE,MAAOiB,GAAG,CAAE,CACZhB,QAAQ,CAAC,wCAAwC,CAAC,CAClDiB,OAAO,CAAClB,KAAK,CAAC,sBAAsB,CAAEiB,GAAG,CAAC,CAC5C,CAAC,OAAS,CACRlB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDG,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACP,UAAU,CAAC,CAAC,CAEhB,GAAIG,OAAO,CAAE,CACX,mBAAOP,IAAA,QAAK4B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,4BAA0B,CAAK,CAAC,CACjF,CAEA,GAAIpB,KAAK,CAAE,CACT,mBAAOP,KAAA,QAAK0B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,EAAC,SAAO,CAACpB,KAAK,EAAM,CAAC,CACnE,CAEA,GAAI,CAACJ,OAAO,CAAE,CACZ,mBAAOL,IAAA,QAAK4B,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAC,oBAAkB,CAAK,CAAC,CAC3E,CAEA,mBACE3B,KAAA,QAAK0B,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvC3B,KAAA,OAAI0B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,EAAExB,OAAO,CAACyB,IAAI,CAACC,KAAK,CAAC,IAAE,CAAC3B,UAAU,CAAC,GAAC,EAAI,CAAC,cAC7EF,KAAA,QAAK0B,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClC3B,KAAA,MAAA2B,QAAA,eAAG7B,IAAA,WAAA6B,QAAA,CAAQ,aAAW,CAAQ,CAAC,IAAC,CAACxB,OAAO,CAACyB,IAAI,CAACE,UAAU,EAAI,CAAC,cAC7D9B,KAAA,MAAA2B,QAAA,eAAG7B,IAAA,WAAA6B,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAACxB,OAAO,CAACyB,IAAI,CAACG,IAAI,CAACC,IAAI,CAAC,IAAI,CAAC,EAAI,CAAC,cAC5DhC,KAAA,MAAA2B,QAAA,eAAG7B,IAAA,WAAA6B,QAAA,CAAQ,UAAQ,CAAQ,CAAC,IAAC,CAACxB,OAAO,CAACyB,IAAI,CAACK,OAAO,CAACD,IAAI,CAAC,IAAI,CAAC,EAAI,CAAC,EAC/D,CAAC,cACNlC,IAAA,OAAI4B,SAAS,CAAC,0BAA0B,CAAE,CAAC,cAC3C5B,IAAA,QAAK4B,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACvC7B,IAAA,CAACF,aAAa,EAAA+B,QAAA,CAAExB,OAAO,CAAC+B,iBAAiB,CAAgB,CAAC,CACvD,CAAC,cACNlC,KAAA,QAAK0B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrC7B,IAAA,CAACH,IAAI,EAACwC,EAAE,cAAApB,MAAA,CAAeb,UAAU,WAAU,CAACwB,SAAS,CAAC,yDAAyD,CAAAC,QAAA,CAAC,aAEhH,CAAM,CAAC,cACP7B,IAAA,CAACH,IAAI,EAACwC,EAAE,cAAApB,MAAA,CAAeb,UAAU,gBAAe,CAACwB,SAAS,CAAC,mEAAmE,CAAAC,QAAA,CAAC,sBAE/H,CAAM,CAAC,EACJ,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAA1B,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}