{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import Header from'./components/Header';import Login from'./components/Login';import WelcomePage from'./components/WelcomePage';import Problems from'./components/Problems';import ProblemDetail from'./components/ProblemDetail';import Profile from'./components/Profile';import UserSubmissions from'./components/UserSubmissions';import SubmissionDetail from'./components/SubmissionDetail';import CodeSubmission from'./components/CodeSubmission';import ProblemSubmissions from'./components/ProblemSubmissions';import ProtectedRoute from'./components/ProtectedRoute';import Credits from'./components/Credits';import Footer from'./components/Footer';import AboutUs from'./components/AboutUs';import Contact from'./components/Contact';import PrivacyPolicy from'./components/PrivacyPolicy';import NotFound from'./components/NotFound';import themeData from'./assets/theme.json';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isLoggedIn,setIsLoggedIn]=useState(!!localStorage.getItem('token'));const[userName,setUserName]=useState('');const[userId,setUserId]=useState('');const[token,setToken]=useState('');const[theme,setTheme]=useState(()=>{const storedTheme=localStorage.getItem('theme');if(storedTheme){return storedTheme;}return window.matchMedia('(prefers-color-scheme: dark)').matches?'dark':'light';});useEffect(()=>{document.body.className=theme+'-theme';localStorage.setItem('theme',theme);},[theme]);useEffect(()=>{const storedUserId=localStorage.getItem('user_id');const storedUserName=localStorage.getItem('username');const storedToken=localStorage.getItem('token');if(storedUserId&&storedUserName&&storedToken){setUserId(storedUserId);setUserName(storedUserName);setToken(storedToken);setIsLoggedIn(true);}},[]);const handleLoginSuccess=(newUserId,newUserName,newName,newToken)=>{setUserId(newUserId);setUserName(newUserName);setToken(newToken);setIsLoggedIn(true);};const handleLogout=()=>{localStorage.clear();setIsLoggedIn(false);setUserName('');setUserId('');setToken('');};const toggleTheme=()=>{setTheme(prevTheme=>prevTheme==='light'?'dark':'light');};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{isLoggedIn:isLoggedIn,userName:userName,onLogout:handleLogout,toggleTheme:toggleTheme,currentTheme:theme}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{onLogin:handleLoginSuccess})}),/*#__PURE__*/_jsxs(Route,{element:/*#__PURE__*/_jsx(ProtectedRoute,{isLoggedIn:isLoggedIn}),children:[/*#__PURE__*/_jsx(Route,{path:\"/welcome\",element:/*#__PURE__*/_jsx(WelcomePage,{userName:userName})}),/*#__PURE__*/_jsx(Route,{path:\"/problems\",element:/*#__PURE__*/_jsx(Problems,{userId:userId,token:token})}),/*#__PURE__*/_jsx(Route,{path:\"/problems/:problem_id\",element:/*#__PURE__*/_jsx(ProblemDetail,{userId:userId,token:token})}),/*#__PURE__*/_jsx(Route,{path:\"/problems/:problemId/submit\",element:/*#__PURE__*/_jsx(CodeSubmission,{token:token})}),/*#__PURE__*/_jsx(Route,{path:\"/problems/:problemId/submissions\",element:/*#__PURE__*/_jsx(ProblemSubmissions,{token:token})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{userId:userId,token:token})}),/*#__PURE__*/_jsx(Route,{path:\"/users/:userId/submissions\",element:/*#__PURE__*/_jsx(UserSubmissions,{token:token})}),/*#__PURE__*/_jsx(Route,{path:\"/submissions/:submissionId\",element:/*#__PURE__*/_jsx(SubmissionDetail,{token:token})}),/*#__PURE__*/_jsx(Route,{path:\"/credits\",element:/*#__PURE__*/_jsx(Credits,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(AboutUs,{})}),/*#__PURE__*/_jsx(Route,{path:\"/contact\",element:/*#__PURE__*/_jsx(Contact,{})}),/*#__PURE__*/_jsx(Route,{path:\"/privacy\",element:/*#__PURE__*/_jsx(PrivacyPolicy,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:isLoggedIn?/*#__PURE__*/_jsx(Navigate,{to:\"/welcome\"}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]}),/*#__PURE__*/_jsx(Footer,{})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Header","Login","WelcomePage","Problems","ProblemDetail","Profile","UserSubmissions","SubmissionDetail","CodeSubmission","ProblemSubmissions","ProtectedRoute","Credits","Footer","AboutUs","Contact","PrivacyPolicy","NotFound","themeData","jsx","_jsx","jsxs","_jsxs","App","isLoggedIn","setIsLoggedIn","localStorage","getItem","userName","setUserName","userId","setUserId","token","setToken","theme","setTheme","storedTheme","window","matchMedia","matches","document","body","className","setItem","storedUserId","storedUserName","storedToken","handleLoginSuccess","newUserId","newUserName","newName","newToken","handleLogout","clear","toggleTheme","prevTheme","children","onLogout","currentTheme","path","element","onLogin","to"],"sources":["E:/NEW/frontend-for-annaforces/app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport Header from './components/Header';\nimport Login from './components/Login';\nimport WelcomePage from './components/WelcomePage';\nimport Problems from './components/Problems';\nimport ProblemDetail from './components/ProblemDetail';\nimport Profile from './components/Profile';\nimport UserSubmissions from './components/UserSubmissions';\nimport SubmissionDetail from './components/SubmissionDetail';\nimport CodeSubmission from './components/CodeSubmission';\nimport ProblemSubmissions from './components/ProblemSubmissions';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport Credits from './components/Credits';\nimport Footer from './components/Footer';\nimport AboutUs from './components/AboutUs';\nimport Contact from './components/Contact';\nimport PrivacyPolicy from './components/PrivacyPolicy';\nimport NotFound from './components/NotFound';\nimport themeData from './assets/theme.json';\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(!!localStorage.getItem('token'));\n  const [userName, setUserName] = useState('');\n  const [userId, setUserId] = useState('');\n  const [token, setToken] = useState('');\n  const [theme, setTheme] = useState(() => {\n    const storedTheme = localStorage.getItem('theme');\n    if (storedTheme) {\n      return storedTheme;\n    }\n    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n  });\n\n  useEffect(() => {\n    document.body.className = theme + '-theme';\n    localStorage.setItem('theme', theme);\n  }, [theme]);\n\n  useEffect(() => {\n    const storedUserId = localStorage.getItem('user_id');\n    const storedUserName = localStorage.getItem('username');\n    const storedToken = localStorage.getItem('token');\n\n    if (storedUserId && storedUserName && storedToken) {\n      setUserId(storedUserId);\n      setUserName(storedUserName);\n      setToken(storedToken);\n      setIsLoggedIn(true);\n    }\n  }, []);\n\n  const handleLoginSuccess = (newUserId, newUserName, newName, newToken) => {\n    setUserId(newUserId);\n    setUserName(newUserName);\n    setToken(newToken);\n    setIsLoggedIn(true);\n  };\n\n  const handleLogout = () => {\n    localStorage.clear();\n    setIsLoggedIn(false);\n    setUserName('');\n    setUserId('');\n    setToken('');\n  };\n\n  const toggleTheme = () => {\n    setTheme((prevTheme) => (prevTheme === 'light' ? 'dark' : 'light'));\n  };\n\n  return (\n    <Router>\n      <div>\n        <Header isLoggedIn={isLoggedIn} userName={userName} onLogout={handleLogout} toggleTheme={toggleTheme} currentTheme={theme} />\n        <Routes>\n          <Route path=\"/login\" element={<Login onLogin={handleLoginSuccess} />} />\n          \n          <Route element={<ProtectedRoute isLoggedIn={isLoggedIn} />}>\n            <Route path=\"/welcome\" element={<WelcomePage userName={userName} />} />\n            <Route path=\"/problems\" element={<Problems userId={userId} token={token} />} />\n            <Route path=\"/problems/:problem_id\" element={<ProblemDetail userId={userId} token={token} />} />\n            <Route path=\"/problems/:problemId/submit\" element={<CodeSubmission token={token} />} />\n            <Route path=\"/problems/:problemId/submissions\" element={<ProblemSubmissions token={token} />} />\n            <Route path=\"/profile\" element={<Profile userId={userId} token={token} />} />\n            <Route path=\"/users/:userId/submissions\" element={<UserSubmissions token={token} />} />\n            <Route path=\"/submissions/:submissionId\" element={<SubmissionDetail token={token} />} />\n            <Route path=\"/credits\" element={<Credits />} />\n          </Route>\n\n          <Route path=\"/about\" element={<AboutUs />} />\n          <Route path=\"/contact\" element={<Contact />} />\n          <Route path=\"/privacy\" element={<PrivacyPolicy />} />\n\n          <Route path=\"/\" element={isLoggedIn ? <Navigate to=\"/welcome\" /> : <Navigate to=\"/login\" />} />\n          \n          <Route path=\"*\" element={<NotFound />} />\n        </Routes>\n        <Footer />\n      </div>\n    </Router>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}