{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import ReactMarkdown from'react-markdown';import'./index.css';// Import the CSS file\nimport'./light.css';import'./dark.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function ProblemDetail(_ref){let{setIsLoading}=_ref;// Accept setIsLoading prop\nconst{problem_id}=useParams();const[problem,setProblem]=useState(null);const[error,setError]=useState('');useEffect(()=>{const fetchProblem=async()=>{const token=localStorage.getItem('token');if(!token){setError('No token found. Please log in.');return;}setIsLoading(true);// Use global loading\ntry{const response=await fetch(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/api/problems/\").concat(problem_id),{headers:{'Authorization':\"Bearer \".concat(token)}});const data=await response.json();if(response.ok){setProblem(data);}else{if(response.status===404){setError(\"The problem is not there.\");}else{setError(data.error||'Failed to fetch problem details');}}}catch(err){setError('Network error or server is unreachable');console.error('Fetch problem error:',err);}finally{setIsLoading(false);// Use global loading\n}};fetchProblem();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[problem_id]);if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"problem-detail-error\",children:[\"Error: \",error]});}if(!problem){return/*#__PURE__*/_jsx(\"div\",{className:\"problem-detail-not-found\",children:\"Problem not found.\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"problem-detail-container\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"problem-detail-title\",children:[problem.meta.title,\" (\",problem_id,\") \\uD83D\\uDCC4\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"problem-detail-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Difficulty:\"}),\" \\u2B50 \",problem.meta.difficulty]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tags:\"}),\" \\uD83C\\uDFF7\\uFE0F \",problem.meta.tags.join(', ')]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Authors:\"}),\" \\u270D\\uFE0F \",problem.meta.authors.join(', ')]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"problem-detail-separator\"}),/*#__PURE__*/_jsx(\"div\",{className:\"problem-detail-statement\",children:/*#__PURE__*/_jsx(ReactMarkdown,{children:problem.problem_statement})}),/*#__PURE__*/_jsxs(\"div\",{className:\"problem-detail-actions\",children:[/*#__PURE__*/_jsx(Link,{to:\"/problems/\".concat(problem_id,\"/submit\"),className:\"problem-detail-link-button problem-detail-submit-button\",children:\"Submit Code \\u270F\\uFE0F\"}),/*#__PURE__*/_jsx(Link,{to:\"/problems/\".concat(problem_id,\"/submissions\"),className:\"problem-detail-link-button problem-detail-view-submissions-button\",children:\"View All Submissions \\uD83D\\uDCCB\"})]})]});}export default ProblemDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","ReactMarkdown","jsxs","_jsxs","jsx","_jsx","ProblemDetail","_ref","setIsLoading","problem_id","problem","setProblem","error","setError","fetchProblem","token","localStorage","getItem","response","fetch","concat","process","env","REACT_APP_API_BASE_URL","headers","data","json","ok","status","err","console","className","children","meta","title","difficulty","tags","join","authors","problem_statement","to"],"sources":["E:/NEW/frontend-for-annaforces/app/src/components/ProblemDetail/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport ReactMarkdown from 'react-markdown';\nimport './index.css'; // Import the CSS file\nimport './light.css';\nimport './dark.css';\n\nfunction ProblemDetail({ setIsLoading }) { // Accept setIsLoading prop\n  const { problem_id } = useParams();\n  const [problem, setProblem] = useState(null);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const fetchProblem = async () => {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('No token found. Please log in.');\n        return;\n      }\n\n      setIsLoading(true); // Use global loading\n\n      try {\n        const response = await fetch(`${process.env.REACT_APP_API_BASE_URL}/api/problems/${problem_id}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n\n        const data = await response.json();\n\n        if (response.ok) {\n          setProblem(data);\n        } else {\n          if (response.status === 404) {\n            setError(\"The problem is not there.\");\n          } else {\n            setError(data.error || 'Failed to fetch problem details');\n          }\n        }\n      } catch (err) {\n        setError('Network error or server is unreachable');\n        console.error('Fetch problem error:', err);\n      } finally {\n        setIsLoading(false); // Use global loading\n      }\n    };\n\n    fetchProblem();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [problem_id]);\n\n  if (error) {\n    return <div className=\"problem-detail-error\">Error: {error}</div>;\n  }\n\n  if (!problem) {\n    return <div className=\"problem-detail-not-found\">Problem not found.</div>;\n  }\n\n  return (\n    <div className=\"problem-detail-container\">\n      <h2 className=\"problem-detail-title\">{problem.meta.title} ({problem_id}) üìÑ</h2>\n      <div className=\"problem-detail-info\">\n        <p><strong>Difficulty:</strong> ‚≠ê {problem.meta.difficulty}</p>\n        <p><strong>Tags:</strong> üè∑Ô∏è {problem.meta.tags.join(', ')}</p>\n        <p><strong>Authors:</strong> ‚úçÔ∏è {problem.meta.authors.join(', ')}</p>\n      </div>\n      <hr className=\"problem-detail-separator\" />\n      <div className=\"problem-detail-statement\">\n        <ReactMarkdown>{problem.problem_statement}</ReactMarkdown>\n      </div>\n      <div className=\"problem-detail-actions\">\n        <Link to={`/problems/${problem_id}/submit`} className=\"problem-detail-link-button problem-detail-submit-button\">\n          Submit Code ‚úèÔ∏è\n        </Link>\n        <Link to={`/problems/${problem_id}/submissions`} className=\"problem-detail-link-button problem-detail-view-submissions-button\">\n          View All Submissions üìã\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default ProblemDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}