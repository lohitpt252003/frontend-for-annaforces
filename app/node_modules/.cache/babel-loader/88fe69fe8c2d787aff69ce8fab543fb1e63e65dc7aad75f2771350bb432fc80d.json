{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import{Link}from'react-router-dom';import'./index.css';// Import the CSS file\nimport'./light.css';import'./dark.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function Profile(_ref){let{userId,token,setGlobalLoading}=_ref;// Accept setGlobalLoading prop\nconst[userData,setUserData]=useState(null);const[error,setError]=useState(null);useEffect(()=>{const fetchUserData=async()=>{setGlobalLoading(true);// Use global loading\ntry{const response=await fetch(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/api/users/\").concat(userId),{headers:{'Authorization':\"Bearer \".concat(token)}});if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const data=await response.json();setUserData(data);}catch(error){setError(error);}finally{setGlobalLoading(false);// Use global loading\n}};if(userId&&token){fetchUserData();}},[userId,token]);if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-error\",children:[\"Error: \",error.message]});}if(!userData){return/*#__PURE__*/_jsx(\"div\",{className:\"profile-no-data\",children:\"No user data found.\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Profile\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"User ID:\"}),\" \",userId]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Username:\"}),\" \",userData.username]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",userData.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Bio:\"}),\" \",userData.bio]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Joined:\"}),\" \",userData.joined]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Number of Submissions:\"}),\" \",userData.number_of_submissions]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/users/\".concat(userId,\"/submissions\"),children:\"View Submissions\"})})]});}export default Profile;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","jsxs","_jsxs","jsx","_jsx","Profile","_ref","userId","token","setGlobalLoading","userData","setUserData","error","setError","fetchUserData","response","fetch","concat","process","env","REACT_APP_API_BASE_URL","headers","ok","Error","status","data","json","className","children","message","username","name","bio","joined","number_of_submissions","to"],"sources":["E:/NEW/frontend-for-annaforces/app/src/components/Profile/index.js"],"sourcesContent":["\n\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { Link } from 'react-router-dom';\nimport './index.css'; // Import the CSS file\nimport './light.css';\nimport './dark.css';\n\nfunction Profile({ userId, token, setGlobalLoading }) { // Accept setGlobalLoading prop\n  const [userData, setUserData] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      setGlobalLoading(true); // Use global loading\n      try {\n        const response = await fetch(`${process.env.REACT_APP_API_BASE_URL}/api/users/${userId}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        \n        setUserData(data);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setGlobalLoading(false); // Use global loading\n      }\n    };\n\n    if (userId && token) {\n      fetchUserData();\n    }\n  }, [userId, token]);\n\n  if (error) {\n    return <div className=\"profile-error\">Error: {error.message}</div>;\n  }\n\n  if (!userData) {\n    return <div className=\"profile-no-data\">No user data found.</div>;\n  }\n\n  return (\n    <div className=\"profile-container\">\n      <h2>User Profile</h2>\n      <p><strong>User ID:</strong> {userId}</p>\n      <p><strong>Username:</strong> {userData.username}</p>\n      <p><strong>Name:</strong> {userData.name}</p>\n      <p><strong>Bio:</strong> {userData.bio}</p>\n      <p><strong>Joined:</strong> {userData.joined}</p>\n      <p><strong>Number of Submissions:</strong> {userData.number_of_submissions}</p>\n      <p><Link to={`/users/${userId}/submissions`}>View Submissions</Link></p>\n      {/* Add more profile details as needed */}\n    </div>\n  );\n}\n\nexport default Profile;\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}